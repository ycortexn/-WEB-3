<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Кинозал – выбор мест</title>
    <style>
/* ОБЩЕЕ */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    background: #2c2c2c;
    color: #fff;
    font-family: 'Arial', sans-serif;
}

/* --- ВЕРХНЯЯ ПАНЕЛЬ --- */
.topbar {
    width: 100%;
    background: #d12282;
    height: 62px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 10px;
    font-size: 15px;
    font-weight: 500;
}

.topbar-links {
    display: flex;
    gap: 15px;
}

.topbar-links a {
    text-decoration: none;
    color: #fff;
    font-family: 'Arial', sans-serif;
    font-size: 15px;
    font-weight: 500;
    position: relative;
    padding: 5px 0;
    opacity: 0.9;
    transition: opacity 0.3s ease;
}

.topbar-links a:hover {
    opacity: 1;
}

.topbar-links a::after {
    content: '';
    position: absolute;
    width: 0;
    height: 2px;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    background-color: #fff;
    transition: width 0.3s ease;
}

.topbar-links a:hover::after {
    width: 50%;
}

.topbar-user {
    display: flex;
    align-items: center;
    gap: 10px;
    font-family: 'Arial', sans-serif;
    font-size: 15px;
    color: #fff;
    cursor: pointer;
    opacity: 0.9;
    transition: opacity 0.3s ease;
}

.topbar-user:hover {
    opacity: 1;
}

/* --- БЛОК ФИЛЬМА --- */
.movie-header {
    display: flex;
    align-items: center;
    padding: 30px 40px 20px;
    position: relative;
}

.movie-avatar {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    margin-right: 20px;
    object-fit: cover;
}

.movie-title {
    font-size: 36px;
    font-weight: 600;
}

.movie-subinfo {
    font-size: 15px;
    opacity: 0.7;
    margin-top: 5px;
}

.movie-age-rating {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 24px;
    background-color: #1a1a1a;
    border-radius: 6px;
    border: 2px solid white;
    position: absolute;
    right: 40px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

.age-rating-text {
    font-size: 12px;
    font-weight: bold;
    color: white;
}

/* --- ЭКРАН --- */
.screen-wrapper {
    margin-top: 20px;
    margin-bottom: 10px;
    text-align: center;
}

.screen-container img {
    width: 70%;
    height: auto;
}

/* --- ЗАЛ --- */
.hall-wrapper {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-top: 15px;
}

.row-numbers {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    height: calc(8 * 42px + 7 * 9px);
    padding-top: 3px;
    font-size: 16px;
    opacity: 0.7;
}

.row-numbers.left {
    text-align: right;
    padding-right: 10px;
}

.row-numbers.right {
    text-align: left;
    padding-left: 10px;
}

.seats-grid {
    display: grid;
    grid-template-columns: repeat(14, 42px);
    gap: 9px 15px;
}

/* МЕСТА */
.seat {
    position: relative;
    width: 42px;
    height: 32px;
    cursor: pointer;
}

.seat-number {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 10px;
    font-weight: bold;
    color: #000;
    z-index: 2;
    pointer-events: none;
    text-shadow: 0 0 2px white;
}

.seat-svg {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    z-index: 1;
}

.seat.selected .seat-svg {
    transform: scale(1.05);
}

/* --- ЛЕГЕНДА --- */
.legend {
    margin-top: 40px;
    display: flex;
    justify-content: center;
    gap: 40px;
    font-size: 15px;
    opacity: 0.9;
}

.legend div {
    display: flex;
    align-items: center;
    gap: 8px;
}

.legend img {
    width: 26px;
    height: 20px;
}

/* LINE */
.divider {
    margin-top: 25px;
    border: none;
    height: 1px;
    background: #3a3a3a;
}

/* ВЫБРАННЫЕ МЕСТА */
.selected-seats-container {
    display: none;
    margin: 20px auto;
    max-width: 800px;
    padding: 20px;
    background: #333;
    border-radius: 10px;
}

.selected-seats-container.visible {
    display: block;
}

.selected-seats-list {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-top: 10px;
}

.selected-seat-item {
    display: flex;
    align-items: center;
    gap: 10px;
    background: #444;
    padding: 10px 15px;
    border-radius: 8px;
}

.remove-seat {
    cursor: pointer;
    color: #d12282;
    font-size: 18px;
    font-weight: bold;
}

/* --- КНОПКИ --- */
.actions {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin: 30px 0 50px;
}

.btn-outline {
    padding: 15px 45px;
    background: transparent;
    color: #fff;
    border: 2px solid #fff;
    border-radius: 40px;
    font-size: 16px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.btn-outline:hover:not(:disabled) {
    background: #444;
}

.btn-outline:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.btn-primary {
    padding: 15px 45px;
    background: #666;
    color: #fff;
    border: none;
    border-radius: 40px;
    font-size: 16px;
    cursor: not-allowed;
    transition: all 0.3s ease;
    opacity: 0.7;
}

.btn-primary.active {
    background: #d12282;
    cursor: pointer;
    opacity: 1;
}

.btn-primary.active:hover {
    background: #de2c91;
}

/* Сообщение об ошибке */
.error-message {
    display: none;
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    background-color: #ff3366;
    color: white;
    padding: 15px 30px;
    border-radius: 8px;
    font-weight: 500;
    z-index: 1000;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    animation: shake 0.5s ease-in-out;
}

@keyframes shake {
    0%, 100% { transform: translateX(-50%); }
    10%, 30%, 50%, 70%, 90% { transform: translateX(calc(-50% - 5px)); }
    20%, 40%, 60%, 80% { transform: translateX(calc(-50% + 5px)); }
}

/* Диалог */
.dialog-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    z-index: 2000;
    justify-content: center;
    align-items: center;
}

.dialog-overlay.visible {
    display: flex;
}

.dialog {
    background: #2c2c2c;
    padding: 30px;
    border-radius: 15px;
    max-width: 500px;
    text-align: center;
}

.dialog h2 {
    margin-bottom: 20px;
}

.dialog-buttons {
    display: flex;
    gap: 15px;
    justify-content: center;
    margin-top: 20px;
}


/* --- FOOTER С ИКОНКАМИ --- */

.footer-icons {
    margin-top: 40px;
    padding: 30px 0 50px;
    border-top: 1px solid #3a3a3a;
}

.footer-container {
    display: flex;
    justify-content: center;
    gap: 40px;
}

.icon-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background-color: #444;
    transition: all 0.3s ease;
    text-decoration: none;
}

.icon-btn:hover {
    transform: scale(1.1);
    background-color: #555;
}

.icon-img {
    width: 40px;
    height: 40px;
    filter: brightness(0) invert(1);
}

/* Специфичные стили для каждой иконки при наведении */
.vk-btn:hover {
    background-color: #4c75a3; /* Цвет ВКонтакте */
}

.telegram-btn:hover {
    background-color: #2aabee; /* Цвет Telegram */
}
/* Стили для таблицы выбранных мест */
.selected-seats-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 15px;
}

.selected-seats-table th {
    text-align: left;
    padding: 12px 15px;
    border-bottom: 2px solid #444;
    font-weight: 600;
    font-size: 14px;
    color: #aaa;
}

.selected-seats-table td {
    padding: 15px;
    border-bottom: 1px solid #444;
}

.selected-seat-row {
    background: rgba(255, 255, 255, 0.05);
}

.selected-seat-row:hover {
    background: rgba(255, 255, 255, 0.1);
}

.seat-info {
    font-weight: 500;
    color: #fff;
}

.seat-type {
    color: #fff;
    font-weight: 500;
}

.seat-price {
    color: #fff;
}

.seat-price .price {
    font-weight: bold;
    color: #fff;
    margin-top: 5px;
}

.remove-cell {
    text-align: center;
    width: 50px;
}

.remove-seat-btn {
    /* background: #ff3366; */
    color: white;
    border: none;
    border-radius: 100%;
    width: 30px;
    height: 30px;
    cursor: pointer;
    font-size: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}

.remove-seat-btn:hover {
    /* background: #ff4d7f; */
    transform: scale(1.1);
}

.total-row {
    background: rgba(209, 34, 130, 0.2);
    font-weight: bold;
    font-size: 16px;
}

.total-label {
    text-align: right;
    color: #fff;
}

.total-price {
    color: #d12282;
    font-size: 18px;
    font-weight: bold;
}
</style>
</head>

<body>

<!-- Шапка -->
<header class="topbar">
    <nav class="topbar-links">
        <a href="https://">КИНОТЕАТРЫ</a>
        <a href="https://">АКЦИИ</a>
        <a href="https://">МУЛЬТИКАРТА</a>
    </nav>
    <div class="topbar-user">
        <svg class="user-icon" width="20" height="20" viewBox="0 0 24 24" fill="#fff">
            <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
        </svg>
        <span>Личный кабинет</span>
    </div>
</header>

<!-- Блок с фильмом -->
<section class="movie-header">
    <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwgHBgkIBwgKCgkLDRYPDQwMDRsUFRAWIB0iIiAdHx8kKDQsJCYxJx8fLT0tMTU3Ojo6Iys/RD84QzQ5OjcBCgoKDQwNGg8PGjclHyU3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3N//AABEIAFwAXAMBIgACEQEDEQH/xAAbAAEBAAMBAQEAAAAAAAAAAAAGBQMEBwIAAf/EADgQAAIBAgQEBAQFAwMFAAAAAAECAwQRAAUSIQYTMUEiUWGBMnGRsQcUocHwFSOCQtHxFjNDcuH/xAAaAQACAwEBAAAAAAAAAAAAAAADBAECBQYA/8QAKREAAgIBBAEDAwUBAAAAAAAAAQIAAxEEEhMhQQUxUXGx8SJCYaHBMv/aAAwDAQACEQMRAD8AK09LJInPZJdEQAU28Ia423Hqdv2wjyqCbk+Gn5uom2seFQTe3r0/X0vj8y/LYIqdufSlZmKoRdrqBa223U3a3TcbjG1VT66mPLqCPRJK4TWp+K5+EE9OvX198ZG5s9QUyStBPJyHmpwAxAYnZbWuLd/mAOtrjphNkfDmXMss1dOmZSNZQpBVIxselyb+t8RWyAZfmcUEplJZi0UkS+FQVF1PuDhFkuXmhkkqFZ9FRGpKyABwwJvcDt0/XDGmQ84VxmNW0INPyA9zW40l/p2QvFl8YpwENuUoUAW6e5wX4O/p89KpzKMVFRJHzJWePUSCL2Ht2ws4xtU5W0IjLORsVUn2wSyKWSlnpaY1Ua8pSdOpQN9up+w33x68tyEMI7o1XiG0yjR5saLPoKWlYzUc8OpFkO6i9reo2/nTCWq4OyesZamOAwG3i5B0k7bEeWDSQTVGeRTVEjGNVVVtYf5fM7D/AJx0Gic8sa3/ANIHpfHtMoZ8EZEprgNn8zm/E/DlTl8d5tNTlwYaam4EkRO1iD1/m4xNio1/LKlIWaK2klQN/n67/r13w04azinq3qqWWqSaIyyGNpmvddW6kHErPoYXrqvMcks/LIjq4l+Etub+h6dv/tGoRhyUnr4mdaliHY0L1GXxVsDyzSosyISGVxGinsrAre/vte523MJKhoF5bwBiOmsbj06jC5KnwRzwzLIA1hq6kXB79+m+JOY5Q/NQ0lOZUKkl11MCdR8um1trC3kMVBzAkHxM+ZVbQKkMW1ZUiyIo+Fd7t+th+lsMab+l5LSZdU1ytJmCQRwwwqgGgEGxCKLLex3tfb2xJ4XyUZpn1TUMHEPK0GVeq7jZT5mwPn69MSM+rmn4nzGq1lYYNRPIfSVRbBSfptbucN6Uba92PeH41ZsZ+sv01dmnFVfqolh5VMbqaaU2Y6iD4/a29u+K+Z5n/Q6+OjrpYAWpuakLS+LZm1W6k7W+h6Ym/hbAi5vNNTOyD8nepjYblnYFCT6aZfqcav4gVYy3O56ppJNlYWjFj4owFu3W12t6DBQMPyZ7jBwU4sdQhxXntRnOZ1AiqJVo1JWOEEhSAbXYdz163tjLQZvlMEStPR1j1Atstiu3lve19umCSTMamQud+pLdbnz+mKBNtlIHmf0/n7d4sQWf9QtL8ftKdRnGYzV/5mKV6dmACqjXIA6W/h746HwfxJLmVI9NVzq9VBvrVbCRfPyvf9sc2iy7MqiPm09BUyhhcHQVDbbbmw/na29Hg2sFPnlKs45ZkJgctfwsfP8Ay2N/TBKNtTA+IPVsb1I8+InlyKU51VU+W5jS0cNUmplYGWQE6i2lWNvkeguNtt61VkgoOF3oKRpJOfJrqal3CuGuCDYDddrW8vPGFPw6pK7if/qGfMa5J1kSSOOBlVRpAFtwSQbb4XVMSU4B3AY2A6326YCNTpnLJXkEn3Ai+21dpbvHicu5OkPpVVUG0qHYhutx97+++PgTHcxTuus6mAt19TY32A9rY2OJZ44czljT+wFOkEC7BQTv629f98a35qzOISCoa2439O/lbCBY7jmUs2k5SMuEFhyrh9qsAB5Q0zddgo26/L9ccqmlaO8jATsUf4VK6mAS2o7d9Vrd+4F7tMur5I+AKqrmlldUSSxW5ZEBtYfIXPkPbBzLcqmznNaGGQiaB5JHbWltURZWLeoINvf1xpdbVH8QlH7jOifhNQTUfDYqKjmCSqcvpkPiUb2Hvu3+WIf4hTFuIJqcoWSSMKx07KugXIPnt9Ljvt0KhaOLWi2ClrqB9scx/EeWNM/lnMjGQACNVI0t4LG/yviHOFjOnqa60IvmG48lc5bWyUFMCs+jSsbhrFTc7E+E7+mEHDPDYp4EkquZG7KNa3DEd9O3b37YL5NnhoJGiqUM9M7ajpsGU+Y88PcqzGHMKWNqZHEBvbUBqHocX021vPcv6hprtOSWHXzN9qRFU6W1ADUV69P2xGy7h3KnzqqaqglmlZvzEeqQhFuTtYW736364oy5m1HGrqFEt7BVOz4z0/ObVUGJUZyOYyLZU8lwXU9gVKP1ExPTe5tbpQPxFFBXxvGyqGOl7Bul9gf3P0x9UztNRqxsAkhBPlYkb/TEqkc07vYHeNZPlpb/AGbA2t4vzvKM4WCqaGpop6maExugVI0BRg+oC4ssoBve+n3xhaXNerO3x/hxGLK+SnPzGa5flufUMFTLEY+adcZFg7gja/oRvbrv53wG4g4MzJ82nbKERKM2MeqT4ttz673HthLU8OZRDTQ1EzzflozZZDLYRr0sOwtv62GBOa8SqKq+V8Qz0lGwvEhkCEi58RF+/nttbvjRtPJ+2ASkDzFPBFTCmXtQS6UnhZ2ZSbgqbb36W3xKg42oqHNhKcvZoJFLRuhAeNWa48JsNwFJBt1t2tiRw/moyeq/MIC8Qk0ThSSQvf36H+ba3HNNT0ufzxUosvhYrfzUHb0xKvvQZ8SKgVZh8zpdJxhklUrPT1aCQC5ikBT7j7XxyfifN3zXM5qrUbMbKD5DGGmtS5c0q/HOdK+ijb73xLlPU+wwOxtxxOo9L0/FWbT7mfM9lwyyJUhySBtMYJBkDHzve+Asj7WGLdFnCCnSOaWwVQoAjPQX8vbFqWCnJlfUw9yBU8GKYp8ykqv7M6aFPhuuxGGuTB5crnEmpmADk3udXr6enpjmy8RUUdPpinkEgHRYyO/nbCTgziGCqrZKCKN41mT43IG43tt53OGqnrRxtmLbo9TbUxYHoGMGOmm1La/LCm+C2c5hQZdDXjOAxopuXr5dtXiBBAv56QPrhLUty4pEPddh3N9seqOGmmiHPjimDWBBQFSenS33/THNal+HVuW9sn7wlLZoX6CBfxG4ogl4apWpVnEFZqjVDULoZUsbhQ3Q6gfYA9cQOFeH8szTK/zmc0pqqqWQtrMpFlsLbKe/Xz3xd474RiWlqKijhbTBMZzEvwaWYgnT02uvbpfA+kzStoo2hgcBdV/gB9O/yxrV3ctYZYEoA02aohIzMhKmUhHJH/cFtw3a4vscfvEOYDM80NUIwl1UEL0uFAP2xghq3MPLdQU7gj0sfqP28sYiHFTpjCgLYIzN0Hnia2PsYvWcyuckmm4cpK+mgmbmM4AG4YLsWH+Xb074NSBvIn5Y75w5Jl1fwzFQUU0dlgMZXbUD0LW9Tc++OZZlQ5eub1OWB15tPKY7kW1EffBbasAMPM2/T/UldOJ+iPb6QS4tj2q2VcXuIuHpMtqD4Ty7gXPt13xOSjZlDLv6YATjozYqAb9U1dO+LHDc7U+bU0i3uHH074o5PwhXZjKqqpVTFzNVtvlhjkX4fRxNz6rUSttOo7Dbc2+vXBEqd8ECCv1+m0+4O3fxFFXGoiSotqUWv/6n/n9cYYZg9RF4h8V9umKi1FDUc2lSohkYIS6owNh07YJ8S1dHk8aNRTSS1fMSyM1hoLWYkgdAL98A9T9Pay7kXoH7zktJqlFew+JO4nqquSoGV0jnTUP/AHAptqBNxfvtvgtmvD8P51hQ14WMAauYmq7dyLW28sWqqT8qJZJHU1sinmW6RrYbWt2uNtiB8saAemk3maXWNroR07X/AJ5YWUtWgRTLne7kiDjI0b20FTsNPnf+fY42DHUiaASwTRo5BRnjIDgeXn7Y8SRo08EboGWSVUN99um3sft5Y6jJI1RmixzHWsOdqsQI+ACk1WHuSffBb9RwEYGcg/1+YHTpuz3BtNXNQVEVXls0yupsUjI1oOh27jp3xGqK2ZeIparmrIxqecHI0liWv07Y6rTKKmtdp/GQYDv3tGxH6nE7M6anNPVP+XhDrDG4YRi4Jma+/tgNWvAOwj4/uH4MDM3OMMxo86yWZIaaVZiVOoxgi4bzF/4cEaOhPKBXqrKPrfG/l07w5lygdSyIUN/I28sbOXqBGNv/ADxj74Zvt5MMY7oG2IVBi+fiqgyiOGlmo61NKBEl5ACMw2IW/Ug/fEOtzyZvypmpqmeaTSDzwSpa4IYKOi2v2737DEjPaqc0Bd5DIQf9e+5a1/niJU1soB2QlT5YYHqTp0gzMW2lGOTEr1GazhJaiVcuRQwDbK9ibmwHia53+2JWaVlM1HUw5freZ42V6iUjmOCDc9dtyPXoQRiNX1s/MZQ+lWCkgDzAJ++NB3bZixJYb4Az22vucyFYVnCiUWzFBCkkrsKhrMwPVD+5Fzv3B72xPeqjkbUzBSd7cwjrv/PS2PVEiVEriVb6UJG56jE/QDb0GLBAIR7Wx17T/9k=" 
     class="movie-avatar">
    <div class="movie-info-block">
        <h1 class="movie-title">Один хороший день</h1>
        <div class="movie-subinfo">
            <span id="current-date">03 марта 2025</span> в 
            <span id="session-time">14:20</span> &nbsp; | &nbsp; Зал 6 &nbsp; | &nbsp; 2D
        </div>
    </div>
    <div class="movie-age-rating">
        <div class="age-rating-text">16+</div>
    </div>
</section>

<!-- Экран -->
<section class="screen-wrapper">
    <div class="screen-container">
        <svg width="1028" height="88" viewBox="0 0 1028 88" fill="none">
            <path d="M2 88V35C2 35 195 2 514 2C833 2 1026 35 1026 35V88H2Z" fill="url(#paint0_linear)"></path>
            <path d="M2 35C2 35 193 2.5 514 2.5C835 2.5 1026 35 1026 35" stroke="#BD257F" stroke-width="4" stroke-linecap="round"></path>
            <defs>
                <linearGradient id="paint0_linear" x1="514" y1="2" x2="514" y2="69.5" gradientUnits="userSpaceOnUse">
                    <stop stop-color="#BD257F"></stop>
                    <stop offset=".01" stop-color="#BD257F" stop-opacity=".5"></stop>
                    <stop offset="1" stop-color="#2A2A2A" stop-opacity="0"></stop>
                </linearGradient>
            </defs>
        </svg>
    </div>
</section>

<!-- Зал -->
<section class="hall-wrapper">
    <div class="row-numbers left" id="row-left"></div>
    <div class="seats-grid" id="seats"></div>
    <div class="row-numbers right" id="row-right"></div>
</section>

<!-- Легенда -->
<section class="legend">
    <div>
        <img src="Images/Usual_place.svg" alt="Обычное место">
        <span>Место &nbsp; 440 ₽</span>
    </div>
    <div>
        <img src="Images/comfort.svg" alt="Комфорт место">
        <span>Комфорт &nbsp; 490 ₽</span>
    </div>
    <div>
        <img src="Images/Busy.svg" alt="Занятое место">
        <span>Занято</span>
    </div>
    <div>
        <img src="Images/Selected.svg" alt="Выбранное место">
        <span>Выбранное вами</span>
    </div>
</section>

<!-- Контейнер выбранных мест -->
<div class="selected-seats-container" id="selected-seats-container">
    <h3>Ваши места</h3>
    <div class="selected-seats-list" id="selected-seats-list"></div>
</div>

<hr class="divider">

<!-- Сообщение об ошибке -->
<div id="error-message" class="error-message">
    Пожалуйста, выбирайте места без промежутков в одном ряду.
</div>

<!-- Диалог выкупа зала -->
<div class="dialog-overlay" id="dialog-overlay">
    <div class="dialog">
        <h2>ЗАБРОНИРУЙТЕ ВЕСЬ ЗАЛ ЦЕЛЕКОМ СО СКИДКОЙ</h2>
        <p>У вас есть возможность выкупить весь зал для частного просмотра. Выбирая эту опцию, вы оплачиваете стоимость доступных для родажи мест в зале со скидкой и смотрите фильм без посторонних людей в зале.</p>
        <div class="dialog-buttons">
            <button class="btn-outline" onclick="closeDialog()">Отмена</button>
            <button class="btn-primary active" onclick="confirmBuyAll()">Продолжить</button>
        </div>
    </div>
</div>

<!-- Кнопки -->
<section class="actions">
    <button class="btn-outline" id="buy-all-btn">ВЫКУПИТЬ ВЕСЬ ЗАЛ</button>
    <button class="btn-primary" id="continue-btn">ПРОДОЛЖИТЬ</button>
</section>



<script>
// Данные для варианта 1
const hallConfig = {
    rows: 8,
    cols: 14,
    occupied: [2, 5, 12, 15, 23, 34, 45, 56, 67, 78],
    comfort: [] // Комфорт места (ряды 4-8, колонки 3-12)
};

// Генерация комфорт-мест для варианта 1
for (let row = 4; row <= 8; row++) {
    for (let col = 3; col <= 12; col++) {
        hallConfig.comfort.push((row - 1) * hallConfig.cols + col);
    }
}

const prices = { usual: 440, comfort: 490 };
let selected = [];
let selectedDetails = [];

// Инициализация при загрузке страницы
document.addEventListener("DOMContentLoaded", () => {
    initHall();
    updateDateTime();
    setupEventListeners();
});

// Инициализация зала
function initHall() {
    const seats = document.getElementById("seats");
    const rowLeft = document.getElementById("row-left");
    const rowRight = document.getElementById("row-right");

    // Номера рядов
    for (let i = 1; i <= hallConfig.rows; i++) {
        const l = document.createElement("div");
        l.textContent = i;
        rowLeft.appendChild(l);

        const r = document.createElement("div");
        r.textContent = i;
        rowRight.appendChild(r);
    }

    // Создание мест
    /* создаём места */
    for (let r = 1; r <= hallConfig.rows; r++) {
        for (let c = 1; c <= hallConfig.cols; c++) {
            // Пропускаем места в колонках 7 и 8 ТОЛЬКО В ПЕРВОМ РЯДУ
            if (r === 1 && (c === 7 || c === 8)) {
                const emptySpace = document.createElement("div");
                emptySpace.className = "empty-space";
                emptySpace.style.width = "42px";
                emptySpace.style.height = "32px";
                seats.appendChild(emptySpace);
                continue;
            }

            const index = (r - 1) * hallConfig.cols + c;
            const seat = createSeat(index, r, c);
            seats.appendChild(seat);
        }
    }
}

// Создание места
function createSeat(index, row, col) {
    const seat = document.createElement("div");
    seat.classList.add("seat");
    seat.dataset.index = index;
    seat.dataset.row = row;
    seat.dataset.col = col;

    const isOccupied = hallConfig.occupied.includes(index);
    const isComfort = hallConfig.comfort.includes(index);

    seat.dataset.type = isOccupied ? "occupied" : (isComfort ? "comfort" : "usual");

    // Иконка места
    const img = document.createElement("img");
    img.className = "seat-svg";
    
    if (isOccupied) {
        img.src = "Images/Busy.svg";
    } else if (isComfort) {
        img.src = "Images/comfort.svg";
    } else {
        img.src = "Images/Usual_place.svg";
    }
    
    seat.appendChild(img);

    // Номер места
    const seatNumber = document.createElement("div");
    seatNumber.className = "seat-number";
    seatNumber.textContent = col <= 7 ? (15 - col) : (15 - col);
    seat.appendChild(seatNumber);

    // События
    if (!isOccupied) {
        seat.addEventListener("mouseenter", () => handleMouseEnter(seat, img));
        seat.addEventListener("mouseleave", () => handleMouseLeave(seat, img));
        seat.addEventListener("click", () => handleSeatClick(seat, index, row, col));
    }

    return seat;
}

// Наведение мыши
function handleMouseEnter(seat, img) {
    if (seat.classList.contains("selected")) {
        // Для выбранного места показываем стандартную иконку
        if (seat.dataset.type === "comfort") {
            img.src = "Images/comfort.svg";
        } else {
            img.src = "Images/Usual_place.svg";
        }
    } else {
        // Показываем иконку билета
        img.src = "Images/lets-icons_ticket-alt-light.svg";
    }
}

// Уход мыши
function handleMouseLeave(seat, img) {
    if (seat.classList.contains("selected")) {
        img.src = "Images/Selected.svg";
    } else {
        // Возвращаем исходную иконку
        if (seat.dataset.type === "comfort") {
            img.src = "Images/comfort.svg";
        } else if (seat.dataset.type === "usual") {
            img.src = "Images/Usual_place.svg";
        }
    }
}

// Клик по месту
function handleSeatClick(seat, index, row, col) {
    const img = seat.querySelector("img");
    
    if (seat.classList.contains("selected")) {
        // Снятие выбора
        seat.classList.remove("selected");
        selected = selected.filter(x => x !== index);
        selectedDetails = selectedDetails.filter(d => d.index !== index);
        handleMouseLeave(seat, img);
    } else {
        // Выбор места
        seat.classList.add("selected");
        selected.push(index);
        
        const seatType = seat.dataset.type;
        const seatPrice = prices[seatType];
        selectedDetails.push({ 
            index, 
            type: seatType, 
            price: seatPrice, 
            row, 
            col 
        });
        
        // Проверка на промежутки
        if (checkForGapsInRow()) {
            showError();
            seat.classList.remove("selected");
            selected = selected.filter(x => x !== index);
            selectedDetails = selectedDetails.filter(d => d.index !== index);
            handleMouseLeave(seat, img);
            return;
        }
        
        img.src = "Images/Selected.svg";
    }
    
    updateUI();
}

// Проверка промежутков
function checkForGapsInRow() {
    if (selected.length < 2) return false;
    
    const seatsByRow = {};
    selected.forEach(index => {
        const row = Math.floor((index - 1) / hallConfig.cols) + 1;
        const col = ((index - 1) % hallConfig.cols) + 1;
        if (!seatsByRow[row]) seatsByRow[row] = [];
        seatsByRow[row].push(col);
    });
    
    for (const row in seatsByRow) {
        if (seatsByRow[row].length > 1) {
            const cols = seatsByRow[row].sort((a, b) => a - b);
            for (let i = 1; i < cols.length; i++) {
                if (cols[i] - cols[i - 1] > 1) return true;
            }
        }
    }
    return false;
}

// Показать ошибку
function showError() {
    const errorMsg = document.getElementById("error-message");
    errorMsg.style.display = "block";
    setTimeout(() => errorMsg.style.display = "none", 3000);
}

// Обновление UI
function updateUI() {
    const continueBtn = document.getElementById("continue-btn");
    const buyAllBtn = document.getElementById("buy-all-btn");
    const container = document.getElementById("selected-seats-container");
    const list = document.getElementById("selected-seats-list");
    
    // Кнопка продолжить
    if (selected.length > 0) {
        continueBtn.classList.add("active");
        continueBtn.disabled = false;
        const totalPrice = selectedDetails.reduce((sum, d) => sum + d.price, 0);
        continueBtn.textContent = `ПРОДОЛЖИТЬ (${totalPrice} ₽)`;
    } else {
        continueBtn.classList.remove("active");
        continueBtn.disabled = true;
        continueBtn.textContent = "ПРОДОЛЖИТЬ";
    }
    
    // Кнопка выкупить зал
    const freeSeats = hallConfig.rows * hallConfig.cols - hallConfig.occupied.length;
    buyAllBtn.disabled = selected.length === freeSeats;
    
    // Список выбранных мест в виде таблицы
    if (selected.length > 0) {
        container.classList.add("visible");
        list.innerHTML = "";
        
        // Создаем таблицу
        const table = document.createElement("table");
        table.className = "selected-seats-table";
        table.innerHTML = `
            <thead>
                <tr>
                    <th>Ряд и место</th>
                    <th>Тип места</th>
                    <th>Взрослый и цена</th>
                    <th></th>
                </tr>
            </thead>
            <tbody id="selected-seats-tbody">
            </tbody>
        `;
        list.appendChild(table);
        
        const tbody = document.getElementById("selected-seats-tbody");
        selectedDetails.forEach(detail => {
            const row = document.createElement("tr");
            row.className = "selected-seat-row";
            row.innerHTML = `
                <td class="seat-info">
                    Ряд ${detail.row}, Место ${detail.col}
                </td>
                <td class="seat-type">
                    ${detail.type === "comfort" ? "Комфорт" : "Обычное"}
                </td>
                <td class="seat-price">
                    <div>Взрослый</div>
                    <div class="price">${detail.price} ₽</div>
                </td>
                <td class="remove-cell">
                    <button class="remove-seat-btn" onclick="removeSeat(${detail.index})">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="white">
                            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                            <circle cx="12" cy="12" r="11" fill="none" stroke="white" stroke-width="2"/>
                        </svg>
                    </button>
                </td>
            `;
            tbody.appendChild(row);
        });
        
        
    } else {
        container.classList.remove("visible");
    }
}

// Удалить место
function removeSeat(index) {
    const seat = document.querySelector(`[data-index="${index}"]`);
    if (seat) seat.click();
}

// Обновление даты и времени
function updateDateTime() {
    const times = ['10:40', '13:10', '15:40', '18:10', '20:35', '23:00'];
    const randomTime = times[Math.floor(Math.random() * times.length)];
    document.getElementById("session-time").textContent = randomTime;
    
    const now = new Date();
    const options = { day: '2-digit', month: 'long' };
    const formattedDate = now.toLocaleDateString('ru-RU', options);
    document.getElementById("current-date").textContent = formattedDate;
}

// Настройка слушателей событий
function setupEventListeners() {
    document.getElementById("buy-all-btn").addEventListener("click", () => {
        document.getElementById("dialog-overlay").classList.add("visible");
    });
    
    document.getElementById("continue-btn").addEventListener("click", () => {
        if (selected.length > 0) {
            alert("Переход к оплате...");
        }
    });
}

// Закрыть диалог
function closeDialog() {
    document.getElementById("dialog-overlay").classList.remove("visible");
}

// Подтвердить выкуп зала
function confirmBuyAll() {
    for (let i = 1; i <= hallConfig.rows * hallConfig.cols; i++) {
        if (!hallConfig.occupied.includes(i) && !selected.includes(i)) {
            const seat = document.querySelector(`[data-index="${i}"]`);
            if (seat) seat.click();
        }
    }
    closeDialog();
}
</script>

</body>
<!-- Footer с кнопками -->
<footer class="footer-icons">
    <div class="footer-container">
        <a href="https://" class="icon-btn vk-btn">
            <img src="Images/ri_vk-fill.svg" alt="ВКонтакте" class="icon-img">
        </a>
        <a href="https://" class="icon-btn telegram-btn">
            <img src="Images/ri_telegram-line.svg" alt="Telegram" class="icon-img">
        </a>
    </div>
</footer>
</html>
